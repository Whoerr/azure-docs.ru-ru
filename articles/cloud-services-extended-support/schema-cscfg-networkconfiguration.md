---
title: Облачные службы Azure (Расширенная поддержка) схема NetworkConfiguration | Документация Майкрософт
description: Сведения, относящиеся к схеме конфигурации сети для облачных служб (Расширенная поддержка)
ms.topic: article
ms.service: cloud-services-extended-support
ms.date: 10/14/2020
author: gachandw
ms.author: gachandw
ms.reviewer: mimckitt
ms.custom: ''
ms.openlocfilehash: 2650da2579f13ec1588af7a25e5b28908209bc82
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101700190"
---
# <a name="azure-cloud-services-extended-support-config-networkconfiguration-schema"></a>Схема networkConfiguration для облачных служб Azure (Расширенная поддержка)

Элемент `NetworkConfiguration` в файле конфигурации службы задает параметры для виртуальной сети и DNS. Эти параметры являются необязательными для облачных служб.

Следующие ресурсы помогут получить дополнительные сведения о виртуальных сетях и соответствующих схемах:

- [Схема конфигурации облачной службы (Расширенная поддержка)](schema-cscfg-file.md).
- [Схема определения облачной службы (Расширенная поддержка)](schema-csdef-file.md).
- [Создайте виртуальную сеть](../virtual-network/manage-virtual-network.md).

## <a name="networkconfiguration-element"></a>Элемент NetworkConfiguration
В следующем примере показан элемент `NetworkConfiguration` и его дочерние элементы:

```xml
<ServiceConfiguration>
  <NetworkConfiguration>
    <AccessControls>
      <AccessControl name="aclName1">
        <Rule order="<rule-order>" action="<rule-action>" remoteSubnet="<subnet-address>" description="rule-description"/>
      </AccessControl>
    </AccessControls>
    <EndpointAcls>
      <EndpointAcl role="<role-name>" endpoint="<endpoint-name>" accessControl="<acl-name>"/>
    </EndpointAcls>
    <Dns>
      <DnsServers>
        <DnsServer name="<server-name>" IPAddress="<server-address>" />
      </DnsServers>
    </Dns>
    <VirtualNetworkSite name="Group <RG-VNet> <VNet-name>"/>
    <AddressAssignments>
      <InstanceAddress roleName="<role-name>">
        <Subnets>
          <Subnet name="<subnet-name>"/>
        </Subnets>
      </InstanceAddress>
      <ReservedIPs>
        <ReservedIP name="<reserved-ip-name>"/>
      </ReservedIPs>
    </AddressAssignments>
  </NetworkConfiguration>
</ServiceConfiguration>
```

В таблице ниже описаны дочерние элементы элемента `NetworkConfiguration`.

| Элемент       | Описание |
| ------------- | ----------- |
| AccessControl | Необязательный параметр. Указывает правила доступа к конечным точкам в облачной службе. Имя элемента управления доступом определяется строковым значением атрибута `name`. Элемент `AccessControl` содержит один или несколько элементов `Rule`. Можно определить несколько элементов `AccessControl`.|
| Правило | Необязательный параметр. Указывает действие, которое следует выполнять для заданного диапазона IP-адресов подсети. Порядок правил определяется строковым значением атрибута `order`. Чем меньше число, тем выше приоритет. Например, можно задать правила с порядковыми номерами 100, 200 и 300. Правило с номером 100 будет проверяться раньше, чем правило с номером 200.<br /><br /> Действие, выполняемое правилом, определяется строковым значением атрибута `action`. Возможны следующие значения:<br /><br /> -   `permit`. Означает, что взаимодействовать с конечной точкой могут только пакеты из указанного диапазона подсети.<br />-   `deny`. Указывает, что для конечных точек в заданном диапазоне подсети доступ запрещен.<br /><br /> Диапазон IP-адресов подсети, к которым применяется правило, определяется строковым значением атрибута `remoteSubnet`. Описание правила определяется строковым значением атрибута `description`.|
| EndpointAcl | Необязательный параметр. Определяет назначение правил управления доступом для конечной точки. Имя роли, которая содержит нужную конечную точку, определяется строковым значением атрибута `role`. Имя конечной точки определяется строковым значением атрибута `endpoint`. Имя набора правил `AccessControl`, которые следует применить к этой конечной точке, определяется строковым значением атрибута `accessControl`. Можно определить несколько элементов `EndpointAcl`.|
| DnsServer | Необязательный параметр. Задает параметры для DNS-сервера. Вы можете указать параметры для DNS-сервера без виртуальной сети. Имя DNS-сервера определяется строковым значением атрибута `name`. IP-адрес DNS-сервера определяется строковым значением атрибута `IPAddress`. IP-адрес должен быть допустимым IPv4-адресом.|
| VirtualNetworkSite | Необязательный параметр. Указывает имя сайта виртуальной сети, на котором требуется развернуть облачную службу. Этот параметр не инициирует создание сайта виртуальной сети. Он ссылается на сайт, который ранее был определен в файле сети для виртуальной сети. Облачная служба может быть членом только одной виртуальной сети. Если этот параметр не указан, облачная служба не будет развернута в виртуальной сети. Имя сайта виртуальной сети определяется строковым значением атрибута `name`.|
| InstanceAddress | Необязательный параметр. Задает привязку роли к подсети или к набору подсетей в виртуальной сети. Если вы связываете имя роли с адресом экземпляра, можно указать подсети, с которыми следует сопоставить эту роль. Элемент `InstanceAddress` содержит элемент Subnets. Имя роли, которая связана с подсетью или набором подсетей, определяется строковым значением атрибута `roleName`.|
| Подсеть | Необязательный параметр. Указывает подсеть, которая определена в файле конфигурации сети. Имя подсети определяется строковым значением атрибута `name`.|
| ReservedIP | Необязательный параметр. Указывает зарезервированный IP-адрес, который должен быть связан с этим развертыванием. Чтобы использовать зарезервированный IP-адрес, его необходимо создать. Каждое развертывание в облачной службе может быть связано с одним зарезервированным IP-адресом. Имя зарезервированного IP-адреса определяется строковым значением атрибута `name`.|

## <a name="see-also"></a>См. также раздел
[Схема конфигурации облачной службы (Расширенная поддержка)](schema-cscfg-file.md).
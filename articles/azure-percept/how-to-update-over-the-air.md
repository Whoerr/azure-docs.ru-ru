---
title: Обновление Azure Перцепт ТЕМНее по воздуху
description: Узнайте, как получать обновления Air в Azure Перцепт DK.
author: mimcco
ms.author: mimcco
ms.service: azure-percept
ms.topic: how-to
ms.date: 02/18/2021
ms.custom: template-how-to
ms.openlocfilehash: aa8f696b6a26e812256be4e93975844f2c721b6e
ms.sourcegitcommit: b4647f06c0953435af3cb24baaf6d15a5a761a9c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/02/2021
ms.locfileid: "101663009"
---
# <a name="update-your-azure-percept-dk-over-the-air"></a>Обновление Azure Перцепт ТЕМНее по воздуху

Следуйте указаниям этого руководства, чтобы узнать, как обновить плату перевозчиков Azure Перцепт ТЕМНее с помощью обновления устройства для центра Интернета вещей.

## <a name="import-your-update-file-and-manifest-file"></a>Импортируйте файл обновления и файл манифеста.

> [!NOTE]
> Если обновление уже импортировано, можно сразу перейти к **созданию обновленной группы устройства**.

1. Перейдите в центр Интернета вещей Azure, который вы используете для устройства Azure Перцепт. На панели меню слева выберите **обновления устройства** в разделе **Автоматическое управление устройствами**.
 
1. В верхней части экрана вы увидите несколько вкладок. Перейдите на вкладку **обновления** .
 
1. Выберите **+ импортировать новое обновление** под заголовком **Готово к развертыванию** .
 
1. Щелкните поля в разделе **выберите Импорт файла манифеста** и **выберите обновить файлы** , чтобы выбрать соответствующий файл манифеста (. JSON) и один файл обновления (. СВУ). Эти файлы обновления для устройства Azure Перцепт можно найти [здесь](https://go.microsoft.com/fwlink/?linkid=2155625).
 
1. Щелкните значок папки или текстовое поле в разделе **выберите контейнер хранилища**, а затем выберите соответствующую учетную запись хранения.
 
1. Если вы уже создали контейнер хранилища, его можно использовать повторно. В противном случае выберите **+ контейнер** , чтобы создать новый контейнер хранилища для обновлений OTA. Выберите контейнер, который вы хотите использовать, и нажмите кнопку **выбрать**.
 
    >[!Note]
    >Если у вас нет контейнера, вам будет предложено создать его.
 
1. Нажмите кнопку **Отправить** , чтобы начать процесс импорта. Процесс отправки займет около 4 минут.
 
    >[!Note]
    >Возможно, вам будет предложено добавить правило межсайтового запроса (CORS) для доступа к выбранному контейнеру хранилища. Выберите **Добавить правило и повторите** попытку для продолжения.
 
    >[!Note]
    >Из-за размера изображения может появиться страница, посвященная **отправке...** До 5 минут, прежде чем увидеть следующий шаг.
    
1. Начнется процесс импорта, и вы будете перенаправлены на вкладку **Импорт журнала** на странице **обновления устройства** . Нажмите кнопку **Обновить** , чтобы отслеживать ход выполнения процесса импорта. В зависимости от размера обновления это может занять несколько минут или дольше (в течение пикового времени ожидается, что служба импорта должна пройти до 1 час).

1. Если в столбце состояние указано, что импорт выполнен успешно, выберите вкладку **Готово к развертыванию** и нажмите кнопку **Обновить**. В списке должно появиться импортированное обновление.
 
## <a name="create-a-device-update-group"></a>Создание группы обновлений устройств
Обновление устройства для центра Интернета вещей позволяет выбрать обновление для конкретных групп Azure Перцепт ДКС. Чтобы создать группу, необходимо добавить тег в целевой набор устройств в центре Интернета вещей Azure.

> [!NOTE]
> Если группа уже создана, можно сразу перейти к следующему шагу.

Требования к тегу группы:
- В тег можно добавить любое значение, за исключением без **категорий**, которое является зарезервированным значением.
- Длина значения тега не может превышать 255 символов.
- Значение тега может содержать только следующие специальные символы: ".", "-", "_", "~".
- В именах тегов и групп учитывается регистр.
- Устройство может иметь только один тег. Любой последующий тег, добавленный на устройство, переопределит предыдущий тег.
- Устройство может принадлежать только одной группе.

1. Добавьте тег на устройства.
    1. В области навигации слева **IOT Edge** найдите свой элемент Azure перцепт DK и перейдите к его **двойникау устройства**.
    1. Добавьте новое **обновление устройства для** значения тега центра Интернета вещей, как показано ниже (измените ```<CustomTagValue>``` значение, например, AzurePerceptGroup1). Дополнительные сведения о [тегах документа JSON](https://docs.microsoft.com/azure/iot-hub/iot-hub-devguide-device-twins#device-twins)двойникаов устройств.

    ```
    "tags": {
    "ADUGroup": "<CustomTagValue>"
    },
    ```

 
1. Нажмите кнопку **сохранить** и устраните все проблемы форматирования.
 
1. Создайте группу, выбрав существующий тег центра Интернета вещей Azure.
    1. Вернитесь на страницу центра Интернета вещей Azure.
    1. Выберите **обновления устройства** в разделе **Автоматическое управление устройствами** в левой панели меню.
    1. Перейдите на вкладку **группы** . На этой странице отображается количество несгруппированных устройств, подключенных к обновлению устройства.
    1. Выберите **+ Добавить** , чтобы создать новую группу.
    1. Выберите в списке тег центра Интернета вещей и нажмите кнопку **Отправить**.
    1. После создания группы будет обновлен список диаграмма соответствия обновлений и группы. На диаграмме показано количество устройств в различных состояниях соответствия: **при последнем обновлении** **доступны новые обновления**, **обновления выполняются**, но **еще не сгруппированы**.
 

## <a name="deploy-an-update"></a>Развертывание обновления
1. Созданная группа появится в списке **доступных обновлений в разделе Доступные обновления** (может потребоваться обновить один раз). Выберите обновление.
 
1. Убедитесь, что выбрана правильная группа устройств в качестве целевой группы устройств. Выберите **дату начала** и **время начала** развертывания, а затем нажмите кнопку **Создать развертывание**. 

    >[!CAUTION]
    >Если задать время начала, развертывание будет немедленно запущено.
 
1. Проверьте диаграмму соответствия. Вы должны увидеть, что обновление сейчас выполняется.
 
1. После завершения обновления ваша диаграмма соответствия будет отражать новое состояние обновления.
 
1. Перейдите на вкладку **развертывания** в верхней части страницы **обновления устройства** .
 
1. Выберите развертывание, чтобы просмотреть сведения о развертывании. Может потребоваться нажать кнопку **Обновить** , пока **состояние** не изменится на **выполнено**.

## <a name="next-steps"></a>Дальнейшие действия

Теперь ваш комплект разработки успешно обновлен. Вы можете продолжить разработку и работу с DevKit.
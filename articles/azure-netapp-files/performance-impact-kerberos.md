---
title: Влияние Kerberos на тома Azure NetApp Files Нфсв 4.1 на производительность Документация Майкрософт
description: Описание доступных параметров безопасности, протестированных векторов производительности и ожидаемого влияния Kerberos на тома Azure NetApp Files Нфсв 4.1.
services: azure-netapp-files
documentationcenter: ''
author: b-juche
manager: ''
editor: ''
ms.assetid: ''
ms.service: azure-netapp-files
ms.workload: storage
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: conceptual
ms.date: 02/18/2021
ms.author: b-juche
ms.openlocfilehash: e9054f11c8f55e9fe00266840a9f6e257f14e659
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101747211"
---
# <a name="performance-impact-of-kerberos-on-azure-netapp-files-nfsv41-volumes"></a>Влияние Kerberos на тома Azure NetApp Files Нфсв 4.1 на производительность

Azure NetApp Files поддерживает [Шифрование клиентов NFS в](configure-kerberos-encryption.md) режимах Kerberos (krb5, krb5i и krb5p) с шифрованием AES-256. В этой статье описывается влияние протокола Kerberos на тома Нфсв 4.1 на производительность. 

## <a name="available-security-options"></a>Доступные параметры безопасности 

Ниже перечислены параметры безопасности, доступные в настоящее время для томов Нфсв 4.1. 

* **sec = sys использует локальные идентификаторы** UID UNIX и GUID, используя AUTH_SYS для проверки подлинности операций NFS.
* **с = krb5** использует Kerberos V5 вместо ЛОКАЛЬНЫХ UID UNIX и GUID для проверки подлинности пользователей.
* **с = krb5i** использует Kerberos V5 для проверки подлинности пользователя и выполняет проверку целостности операций NFS с помощью безопасных контрольных сумм для предотвращения незаконного изменения данных.
* **с = krb5p** использует Kerberos V5 для проверки подлинности пользователя и проверки целостности. Он шифрует трафик NFS для предотвращения перехвата трафика. Этот параметр является наиболее безопасным, но он также включает в себя наибольшую нагрузку на производительность.

## <a name="performance-vectors-tested"></a>Протестированные векторы производительности

В этом разделе описывается влияние различных параметров на производительность на стороне клиента `sec=*` .

* Влияние на производительность было протестировано на двух уровнях: низкая степень параллелизма (низкая нагрузка) и высокая степень параллелизма (верхние пределы операций ввода-вывода и пропускной способности).  
* Были протестированы три типа рабочих нагрузок:  
    * Произвольная операция для произвольного чтения и записи (с использованием FIO)
    * Последовательное выполнение больших операций чтения и записи (с использованием FIO)
    * Интенсивная рабочая нагрузка метаданных, создаваемая приложениями, например Git

## <a name="expected-performance-impact"></a>Ожидаемое влияние на производительность 

Существует две области фокуса: интенсивная загрузка и верхний предел. В следующих списках описываются параметры безопасности, влияющие на производительность, в параметрах безопасности и сценариях. Все сравнения выполняются с `sec=sys` параметром безопасности. Тест выполнен на одном томе с использованием одного клиента. 

Влияние krb5 на производительность:

* Низкая степень параллелизма (r/w):
    * Последовательная задержка увеличена 0,3 мс.
    * Случайная задержка ввода-вывода увеличилась 0,2 мс.
    * Задержка ввода-вывода метаданных увеличена в 0,2 мс.
* Высокая степень параллелизма (r/w): 
    * Krb5 не влияет на максимальную последовательность пропускной способности.
    * Максимальное число случайных операций ввода-вывода, уменьшенное на 30% для рабочих нагрузок чистого чтения, с общим влиянием на ноль, когда Рабочая нагрузка перемещается в чистую запись. 
    * Максимальная рабочая нагрузка метаданных уменьшила 30%.

Влияние krb5i на производительность: 

* Низкая степень параллелизма (r/w):
    * Последовательная задержка увеличена 0,5 мс.
    * Случайная задержка ввода-вывода увеличилась 0,2 мс.
    * Задержка ввода-вывода метаданных увеличена в 0,2 мс.
* Высокая степень параллелизма (r/w): 
    * Максимальная последовательная пропускная способность, уменьшенная на 70%, зависит от смешанной рабочей нагрузки.
    * Максимальное число операций ввода-вывода, уменьшенное на 50% для рабочих нагрузок чистого чтения с общим влиянием снижения на 25% по мере смены рабочей нагрузки на чистую запись. 
    * Максимальная рабочая нагрузка метаданных уменьшила 30%.

Влияние krb5p на производительность:

* Низкая степень параллелизма (r/w):
    * Последовательная задержка увеличена 0,8 мс.
    * Случайная задержка ввода-вывода увеличилась 0,2 мс.
    * Задержка ввода-вывода метаданных увеличена в 0,2 мс.
* Высокая степень параллелизма (r/w): 
    * Максимальная последовательная пропускная способность, уменьшенная на 85%, зависит от смешанной рабочей нагрузки. 
    * Максимальное число операций ввода-вывода, уменьшенное на 65% для чистых рабочих нагрузок чтения, с общим влиянием снижения на 43% по мере смены рабочей нагрузки на чистую запись. 
    * Максимальная рабочая нагрузка метаданных уменьшила 30%.

## <a name="next-steps"></a>Дальнейшие действия  

* [Настройка шифрования Kerberos NFS версии 4.1 для Azure NetApp Files](configure-kerberos-encryption.md) 

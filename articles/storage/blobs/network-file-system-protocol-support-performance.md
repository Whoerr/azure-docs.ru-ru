---
title: Вопросы производительности NFS 3,0 в хранилище BLOB-объектов Azure (Предварительная версия) | Документация Майкрософт
description: Оптимизируйте производительность запросов к хранилищу сетевой файловой системы (NFS) 3,0, следуя рекомендациям, приведенным в этой статье.
author: normesta
ms.subservice: blobs
ms.service: storage
ms.topic: conceptual
ms.date: 02/23/2021
ms.author: normesta
ms.reviewer: yzheng
ms.custom: references_regions
ms.openlocfilehash: f8a780afba1f5703fbe457e113ed1b455f1e9b64
ms.sourcegitcommit: c27a20b278f2ac758447418ea4c8c61e27927d6a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101746410"
---
# <a name="network-file-system-nfs-30-performance-considerations-in-azure-blob-storage-preview"></a>Рекомендации по повышению производительности сетевой файловой системы (NFS) 3,0 в хранилище BLOB-объектов Azure (Предварительная версия)

Хранилище BLOB-объектов теперь поддерживает протокол NFS 3,0. Эта статья содержит рекомендации, помогающие оптимизировать производительность запросов к хранилищу. Дополнительные сведения о поддержке NFS 3,0 в хранилище больших двоичных объектов Azure см. в разделе [Поддержка протокола nfs 3,0 в хранилище BLOB-объектов Azure (Предварительная версия)](network-file-system-protocol-support.md).

> [!NOTE]
> Поддержка протокола NFS 3,0 в хранилище BLOB-объектов Azure доступна в общедоступной предварительной версии. Она поддерживает учетные записи хранения GPV2 со стандартными уровнями производительности в следующих регионах: Восточная Австралия, Южная Корея и Юго-Центральный регион США. Предварительная версия также поддерживает блочный BLOB-объект с уровнем производительности "Премиум" во всех общедоступных регионах.

## <a name="add-clients-to-increase-throughput"></a>Добавление клиентов для увеличения пропускной способности 

Хранилище BLOB-объектов Azure масштабируется линейно, пока не достигнет максимального предела для входящих и исходящих данных учетной записи хранения. Таким образом, приложения могут повысить пропускную способность, используя больше клиентов.  Чтобы просмотреть ограничения для исходящих и входящих данных учетной записи хранения, см. раздел [целевые показатели масштабируемости и производительности для учетных записей хранения](../common/scalability-targets-standard-account.md)уровня "Стандартный"

На следующей диаграмме показано, как увеличивается пропускная способность по мере добавления клиентов. На этой диаграмме клиент представляет собой виртуальную машину, а учетная запись использует уровень производительности "Стандартный". 

> [!div class="mx-imgBorder"]
> ![Стандартная производительность](./media/network-file-system-protocol-support-performance/standard-performance-tier.png)

На следующей диаграмме показан тот же результат, что и при применении к учетной записи, использующей уровень производительности "Премиум".

> [!div class="mx-imgBorder"]
> ![Стандартная производительность](./media/network-file-system-protocol-support-performance/premium-performance-tier.png)

## <a name="use-premium-performance-tier-for-small-scale-applications"></a>Использование уровня производительности "Премиум" для небольших масштабируемых приложений

Не все приложения могут масштабироваться путем добавления дополнительных клиентов. Для этих приложений [учетная запись хранилища BLOB-объектов Azure](storage-blob-create-account-block-blob.md) уровня "Премиум" обеспечивает постоянную низкую задержку и высокую скорость транзакций. Учетная запись хранилища блочных BLOB-объектов уровня "Премиум" может достигать максимальной пропускной способности, чем меньше потоков и Например, при использовании одного клиента учетная запись хранения блочного BLOB-объекта уровня "Премиум" может достичь пропускной способности **2.3 x** по сравнению с той же программой установки, которая использовалась для стандартной учетной записи хранения общего назначения версии 2 

На каждой панели на следующей диаграмме показано различие между учетными записями хранения уровня "Премиум" и "Стандартный". По мере роста числа клиентов это различие уменьшается.  

> [!div class="mx-imgBorder"]
> ![Относительная производительность](./media/network-file-system-protocol-support-performance/relative-performance.png)

## <a name="avoid-frequent-overwrites-on-date"></a>Избегайте частой перезаписи даты

Выполнение операции перезаписи занимает больше времени, чем новая операция записи. Это обусловлено тем, что операция перезаписи NFS, особенно частичное изменение файла на месте, представляет собой сочетание нескольких базовых операций с BLOB-объектами: операции чтения, изменения и записи. Таким образом, приложение, требующее частых изменений в месте, не подходит для учетных записей хранения BLOB-объектов с поддержкой NFS. 

## <a name="other-best-practice-recommendations"></a>Другие рекомендации 

- Используйте виртуальные машины с достаточной пропускной способностью сети.

- Используйте несколько точек подключения, если это разрешено рабочими нагрузками.

- Используйте столько потоков, сколько возможно.

- Используйте крупные размеры блоков.

- Сделайте запросы к хранилищу от клиента, расположенного в том же регионе, что и учетная запись хранения. Это может повысить задержку в сети.

## <a name="next-steps"></a>Дальнейшие действия

- Дополнительные сведения о поддержке NFS 3,0 в хранилище больших двоичных объектов Azure см. в разделе [Поддержка протокола nfs 3,0 в хранилище BLOB-объектов Azure (Предварительная версия)](network-file-system-protocol-support.md).

- Чтобы приступить к работе, см. раздел [Подключение хранилища BLOB-объектов с помощью протокола nfs 3,0 (Предварительная версия)](network-file-system-protocol-support-how-to.md).
